-- БД сайта кинопоиск. Хранение данных сервиса кинопоиск. 
-- 13 таблиц. В таблице хранения данных о фильме применен тип SET для выбора нескольких жанров. Так же SET применен для таблици filmmekers для выбора ролей членов съемочной группы.


 DROP DATABASE IF EXISTS kinopoisk;
 CREATE DATABASE kinopoisk;
 use kinopoisk;

 DROP TABLE IF EXISTS `cities`;
 CREATE TABLE `cities` (
   `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
   `name` varchar(25) COLLATE utf8_unicode_ci NOT NULL,
   PRIMARY KEY (`id`),
   UNIQUE KEY `id` (`id`),
   KEY `name_cities_idx` (`name`)
 ) ENGINE=InnoDB AUTO_INCREMENT=16 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

 INSERT INTO `cities` VALUES ('6','Москва'),
 ('2','Санкт-Питербург'),
 ('11','Сочи'),
 ('9','Тюмень'),
 ('13','Новосибирск'),
 ('14','Владивосток'),
 ('3','Владикавказ'),
 ('5','Пермь'),
 ('4','Саратов'),
 ('12','Казань'),
 ('10','Ростов'),
 ('7','Екатеринбург'),
 ('8','Пенза'),
 ('15','Якутск'),
 ('1','Магадан'); 


 DROP TABLE IF EXISTS `countries`;
 CREATE TABLE `countries` (
   `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
   `name` varchar(25) COLLATE utf8_unicode_ci NOT NULL,
   PRIMARY KEY (`id`),
   UNIQUE KEY `id` (`id`),
   KEY `name_countries_idx` (`name`)
 ) ENGINE=InnoDB AUTO_INCREMENT=181 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

 INSERT INTO `countries` VALUES ('26','Afghanistan'),
 ('111','Algeria'),
 ('105','American Samoa'),
 ('30','Angola'),
 ('77','Anguilla'),
 ('113','Antigua and Barbuda'),
 ('15','Argentina'),
 ('59','Armenia'),
 ('74','Aruba'),
 ('86','Austria'),
 ('119','Azerbaijan'),
 ('87','Bahamas'),
 ('92','Bangladesh'),
 ('3','Barbados'),
 ('124','Belarus'),
 ('76','Belgium'),
 ('156','Benin'),
 ('61','Bermuda'),
 ('83','Bhutan'),
 ('141','Bolivia'),
 ('23','Bosnia and Herzegovina'),
 ('174','Bouvet Island (Bouvetoya)'),
 ('57','Brazil'),
 ('159','British Indian Ocean Terr'),
 ('115','British Virgin Islands'),
 ('75','Brunei Darussalam'),
 ('55','Bulgaria'),
 ('97','Burkina Faso'),
 ('140','Cambodia'),
 ('125','Cameroon'),
 ('82','Central African Republic'),
 ('24','Chad'),
 ('65','Chile'),
 ('72','China'),
 ('166','Cocos (Keeling) Islands'),
 ('164','Colombia'),
 ('7','Comoros'),
 ('94','Congo'),
 ('122','Cook Islands'),
 ('161','Croatia'),
 ('118','Cuba'),
 ('51','Czech Republic'),
 ('167','Denmark'),
 ('25','Djibouti'),
 ('22','Dominica'),
 ('73','Ecuador'),
 ('175','Egypt'),
 ('165','El Salvador'),
 ('81','Equatorial Guinea'),
 ('17','Estonia'),
 ('5','Ethiopia'),
 ('4','Faroe Islands'),
 ('149','Fiji'),
 ('35','France'),
 ('43','French Guiana'),
 ('84','French Polynesia'),
 ('49','French Southern Territori'),
 ('143','Gabon'),
 ('152','Gambia'),
 ('1','Georgia'),
 ('53','Ghana'),
 ('104','Gibraltar'),
 ('142','Greece'),
 ('71','Greenland'),
 ('136','Grenada'),
 ('114','Guadeloupe'),
 ('68','Guinea'),
 ('36','Guinea-Bissau'),
 ('153','Heard Island and McDonald'),
 ('79','Holy See (Vatican City St'),
 ('170','Honduras'),
 ('148','Hong Kong'),
 ('12','Hungary'),
 ('16','Iceland'),
 ('154','India'),
 ('179','Iran'),
 ('96','Iraq'),
 ('29','Ireland'),
 ('31','Isle of Man'),
 ('99','Israel'),
 ('138','Italy'),
 ('109','Japan'),
 ('21','Jersey'),
 ('64','Kazakhstan'),
 ('38','Kiribati'),
 ('157','Korea'),
 ('63','Kyrgyz Republic'),
 ('20','Lao People\'s Democratic R'),
 ('127','Latvia'),
 ('139','Lesotho'),
 ('69','Libyan Arab Jamahiriya'),
 ('176','Liechtenstein'),
 ('58','Lithuania'),
 ('102','Luxembourg'),
 ('70','Macedonia'),
 ('78','Madagascar'),
 ('11','Malawi'),
 ('10','Malaysia'),
 ('163','Maldives'),
 ('9','Mali'),
 ('112','Malta'),
 ('135','Marshall Islands'),
 ('128','Martinique'),
 ('28','Mauritania'),
 ('47','Mauritius'),
 ('151','Mayotte'),
 ('18','Mexico'),
 ('131','Micronesia'),
 ('134','Moldova'),
 ('116','Monaco'),
 ('130','Mongolia'),
 ('41','Montenegro'),
 ('108','Montserrat'),
 ('52','Morocco'),
 ('177','Myanmar'),
 ('90','Namibia'),
 ('103','Nauru'),
 ('180','Nepal'),
 ('162','Netherlands Antilles'),
 ('32','New Caledonia'),
 ('158','Norway'),
 ('169','Pakistan'),
 ('172','Palau'),
 ('168','Palestinian Territory'),
 ('129','Panama'),
 ('46','Papua New Guinea'),
 ('2','Peru'),
 ('89','Philippines'),
 ('39','Poland'),
 ('100','Portugal'),
 ('160','Qatar'),
 ('145','Russian Federation'),
 ('133','Saint Barthelemy'),
 ('67','Saint Kitts and Nevis'),
 ('44','Saint Lucia'),
 ('106','Saint Martin'),
 ('88','Saint Pierre and Miquelon'),
 ('95','Saint Vincent and the Gre'),
 ('126','Samoa'),
 ('42','San Marino'),
 ('37','Sao Tome and Principe'),
 ('123','Senegal'),
 ('150','Seychelles'),
 ('178','Sierra Leone'),
 ('27','Slovenia'),
 ('147','Solomon Islands'),
 ('120','South Africa'),
 ('66','Spain'),
 ('107','Sri Lanka'),
 ('40','Suriname'),
 ('171','Svalbard & Jan Mayen Isla'),
 ('50','Swaziland'),
 ('155','Switzerland'),
 ('146','Syrian Arab Republic'),
 ('8','Tajikistan'),
 ('6','Tanzania'),
 ('117','Thailand'),
 ('91','Togo'),
 ('54','Tonga'),
 ('173','Trinidad and Tobago'),
 ('98','Tunisia'),
 ('80','Turkey'),
 ('85','Turkmenistan'),
 ('93','Turks and Caicos Islands'),
 ('62','Tuvalu'),
 ('34','Uganda'),
 ('19','Ukraine'),
 ('137','United Arab Emirates'),
 ('13','United Kingdom'),
 ('60','United States Minor Outly'),
 ('33','United States of America'),
 ('144','United States Virgin Isla'),
 ('56','Uzbekistan'),
 ('110','Vanuatu'),
 ('45','Venezuela'),
 ('14','Vietnam'),
 ('48','Wallis and Futuna'),
 ('121','Western Sahara'),
 ('101','Yemen'),
 ('132','Zimbabwe'); 

 DROP TABLE IF EXISTS `media_types`;
 CREATE TABLE `media_types` (
   `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
   `name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
   PRIMARY KEY (`id`),
   UNIQUE KEY `id` (`id`)
 ) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

 INSERT INTO `media_types` VALUES ('1','постер'),
 ('2','Фото'),
 ('3','видео'),
 ('4','рецензия'),
 ('5','трейлер'),
 ('6','non'),
 ('7','quas'),
 ('8','modi'); 

 DROP TABLE IF EXISTS `users`;
 CREATE TABLE `users` (
   `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
   `firstname` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
   `lastname` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
   `email` varchar(120) COLLATE utf8_unicode_ci DEFAULT NULL,
   `phone` bigint(20) DEFAULT NULL,
   `created_at` datetime DEFAULT current_timestamp(),
   PRIMARY KEY (`id`),
   UNIQUE KEY `id` (`id`),
   UNIQUE KEY `email` (`email`),
   KEY `users_firstname_lastname_idx` (`firstname`,`lastname`)
 ) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

 INSERT INTO `users` VALUES ('1','Reuben','Nienow','arlo50102@example.org','9374071116','2020-02-15 05:21:02'),
 ('2','Frederik','Upton','terrence.cartwright@example.org','9127498182','2020-02-15 05:21:02'),
 ('3','Unique','Windler','rupert55@example.org','9921090703','2020-02-15 05:21:02'),
 ('4','Norene','West','rebekah29@example.net','9592139196','2020-02-15 05:21:02'),
 ('5','Frederick','Effertz','von.bridget@example.net','9909791725','2020-02-15 05:21:02'); 

 DROP TABLE IF EXISTS `media`;
 CREATE TABLE `media` (
   `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
   `media_type_id` bigint(20) unsigned NOT NULL,
   `user_id` bigint(20) unsigned NOT NULL,
   `body` text COLLATE utf8_unicode_ci DEFAULT NULL,
   `filename` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
   `size` int(11) DEFAULT NULL,
   `metadata` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
   `created_at` datetime DEFAULT current_timestamp(),
   `updated_at` datetime DEFAULT current_timestamp() ON UPDATE current_timestamp(),
   PRIMARY KEY (`id`),
   UNIQUE KEY `id` (`id`),
   KEY `media_fk_user_id` (`user_id`),
   KEY `media_fk_media_type_id` (`media_type_id`),
   CONSTRAINT `media_fk_media_type_id` FOREIGN KEY (`media_type_id`) REFERENCES `media_types` (`id`) ON UPDATE CASCADE,
   CONSTRAINT `media_fk_user_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON UPDATE CASCADE
 ) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

 INSERT INTO `media` VALUES ('1','1','1','Sapiente aut fuga velit ratione eveniet. Exercitationem illo voluptatem tempore facere beatae. Sit est repellat minus nobis doloribus eos.','iste','884966527',NULL,'1982-07-03 04:23:34','1980-02-12 18:33:57'),
 ('2','2','2','Numquam possimus ipsum laboriosam eos sequi. Error nihil minus velit. Sit voluptas qui culpa.','quod','0',NULL,'2000-10-25 22:35:27','2018-04-16 16:24:10'),
 ('3','3','3','Consequatur nostrum facere velit qui perferendis qui excepturi. Consequatur qui sequi rem suscipit est beatae et. Rerum nam nulla beatae amet iusto qui.','ratione','47895834',NULL,'1998-01-07 11:04:23','1976-02-16 01:55:27'),
 ('4','4','4','Qui iure ab totam velit explicabo harum. Adipisci rem natus harum harum quibusdam excepturi.','dolorem','755683',NULL,'1985-11-05 14:05:24','1978-02-15 10:13:13'),
 ('5','5','5','Qui tempore recusandae mollitia ratione in earum. Laudantium amet nobis asperiores ad.','unde','52925129',NULL,'2010-12-28 23:45:46','2016-06-25 23:44:42'),
 ('6','6','1','Quia ea totam ullam optio temporibus. Alias ratione repudiandae est dolorem est. Sunt ea nulla ut. Eligendi sint aut hic adipisci.','vitae','2',NULL,'2011-11-12 03:25:47','2010-06-16 06:07:19'),
 ('7','7','2','Voluptatem nihil accusantium neque. Et aut voluptatem eaque voluptatum ea sint. Deleniti aliquam sunt nihil quos labore ullam.','esse','7',NULL,'2013-07-15 10:52:14','1975-12-02 15:48:09'),
 ('8','8','3','Dolorem aut sit alias consectetur distinctio eveniet. Sit repudiandae ut commodi aliquam sed eos. Aspernatur debitis amet voluptatem enim ipsa esse.','aut','928392',NULL,'1992-12-22 06:25:03','2014-03-07 00:00:21'),
 ('9','1','4','Possimus tempore vero repellendus et mollitia fugiat et est. Architecto tenetur itaque eligendi voluptates consequatur excepturi. Autem non est in harum.','et','69664',NULL,'2016-08-20 17:28:23','1986-12-20 07:21:01'),
 ('10','2','5','Molestias voluptate minus ipsa modi id. Numquam sit rerum tempora. Molestias enim sed sint. Facilis consequuntur similique suscipit omnis dolorem at aut.','fugiat','305',NULL,'1987-12-15 09:35:36','1996-05-20 02:40:08'),
 ('11','3','1','Rerum commodi voluptatum maxime saepe. Recusandae blanditiis reiciendis ex. Totam ratione ipsam excepturi dolor et quibusdam. Atque cum quas soluta natus itaque et dolorem quis.','iste','85',NULL,'2011-12-06 16:56:10','1995-10-24 07:34:03'),
 ('12','4','2','Rerum mollitia consequatur quas repudiandae sapiente aut. Perspiciatis corrupti ipsa et impedit praesentium voluptates.','ratione','635658',NULL,'2003-07-19 00:28:35','1972-06-14 20:03:31'),
 ('13','5','3','Eos quo nostrum voluptate libero alias repudiandae quae. Ut corrupti omnis in sed voluptate repudiandae quas. Ducimus id pariatur consequatur dolores nihil. Voluptates inventore totam veniam impedit ut est quibusdam.','vero','0',NULL,'2011-06-27 19:56:32','1975-04-06 02:30:10'),
 ('14','6','4','Molestiae voluptatem non unde enim molestiae porro voluptatum. Esse labore at consequatur velit occaecati eum. Debitis quidem omnis in iure.','nesciunt','99134240',NULL,'1996-06-14 08:38:14','2008-11-04 15:01:47'),
 ('15','7','5','Excepturi perspiciatis inventore ad ut blanditiis et est. Recusandae sequi aut dolorum et. Et aut soluta aspernatur rerum nobis. In asperiores voluptates a harum dolore et. Et fugiat in non quia.','modi','0',NULL,'1978-10-01 21:48:35','1974-12-25 03:57:36'),
 ('16','8','1','Sit molestiae non sit. Unde nostrum id rerum aut non saepe. Rerum explicabo possimus cum facere. Autem neque delectus ut sint debitis fugiat sed.','iste','559',NULL,'1996-08-27 04:54:21','1975-09-06 16:41:51'),
 ('17','1','2','Molestias sed et corrupti enim. Voluptatum necessitatibus modi perferendis voluptatem exercitationem nam. Ad quaerat sed cumque eligendi. Cupiditate excepturi omnis quaerat expedita.','voluptates','0',NULL,'1971-09-20 13:04:15','2012-10-20 19:29:25'),
 ('18','2','3','Non natus exercitationem et animi et quis. Dolor commodi veniam saepe dolorum laborum. Ut tempore et quasi iusto consequatur ipsa. Ad nemo error enim laudantium exercitationem. Praesentium quae fugit velit doloribus quidem provident quos.','ad','79',NULL,'1988-08-22 17:49:57','1983-03-20 06:43:18'),
 ('19','3','4','Ipsam enim ullam ex ducimus. Ut minus in iure et sunt ut. Quibusdam fuga ipsam ipsum excepturi impedit a.','repudiandae','12027',NULL,'1978-09-14 12:12:41','1994-09-10 22:58:29'),
 ('20','4','5','Rerum minus quas ut ab ducimus illum. Voluptatum voluptatem quas pariatur laudantium culpa et adipisci. Inventore reiciendis aspernatur quia rerum at ad quasi.','voluptatem','17',NULL,'1993-12-01 11:09:15','1994-01-27 13:16:06'); 


 DROP TABLE IF EXISTS `media_likes`;
 CREATE TABLE `media_likes` (
   `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
   `user_id` bigint(20) unsigned NOT NULL,
   `media_id` bigint(20) unsigned NOT NULL,
   `set_likes` tinyint(1) DEFAULT 0,
   PRIMARY KEY (`id`),
   KEY `media_likes_fk_media_id` (`media_id`),
   KEY `media_likes_fk_user_id` (`user_id`),
   CONSTRAINT `media_likes_fk_media_id` FOREIGN KEY (`media_id`) REFERENCES `media` (`id`) ON UPDATE CASCADE,
   CONSTRAINT `media_likes_fk_user_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON UPDATE CASCADE
 ) ENGINE=InnoDB AUTO_INCREMENT=31 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

 INSERT INTO `media_likes` VALUES ('1','1','7','0'),
 ('2','2','19','0'),
 ('3','3','10','0'),
 ('4','4','3','0'),
 ('5','5','7','0'),
 ('6','1','17','1'),
 ('7','2','7','1'),
 ('8','3','20','0'),
 ('9','4','13','1'),
 ('10','5','5','0'),
 ('11','1','11','0'),
 ('12','2','9','1'),
 ('13','3','3','1'),
 ('14','4','20','1'),
 ('15','5','17','0'),
 ('16','1','14','1'),
 ('17','2','18','0'),
 ('18','3','14','1'),
 ('19','4','10','1'),
 ('20','5','3','1'),
 ('21','1','9','0'),
 ('22','2','9','1'),
 ('23','3','8','1'),
 ('24','4','8','1'),
 ('25','5','18','1'),
 ('26','1','10','0'),
 ('27','2','17','1'),
 ('28','3','13','0'),
 ('29','4','12','1'),
 ('30','5','8','0'); 

 DROP TABLE IF EXISTS `profiles`;
 CREATE TABLE `profiles` (
   `user_id` bigint(20) unsigned NOT NULL,
   `gender` char(1) COLLATE utf8_unicode_ci DEFAULT NULL,
   `birthday` date DEFAULT NULL,
   `photo_id` bigint(20) unsigned DEFAULT NULL,
   `created_at` datetime DEFAULT current_timestamp(),
   `hometown` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
   PRIMARY KEY (`user_id`),
   KEY `photo_id_idx` (`photo_id`),
   CONSTRAINT `profiles_fk_photo_id` FOREIGN KEY (`photo_id`) REFERENCES `media` (`id`) ON UPDATE CASCADE,
   CONSTRAINT `profiles_fk_user_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON UPDATE CASCADE
 ) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

 INSERT INTO `profiles` VALUES ('1','e','1987-10-14','1','1986-01-15 04:39:48','Port Gideon'),
 ('2','v','2007-03-24','2','1983-10-22 14:19:10','South Amiyaport'),
 ('3','a','1982-01-19','3','1977-10-05 22:44:02','Lucilestad'),
 ('4','v','1974-06-17','4','1971-09-26 07:07:23','East Harrison'),
 ('5','c','1977-06-20','5','2002-01-28 01:55:12','Lake Bartonfurt'); 

 DROP TABLE IF EXISTS `movies`;
 CREATE TABLE `movies` (
   `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
   `name` varchar(50) COLLATE utf8_unicode_ci NOT NULL COMMENT 'Название фильма',
   `premiere` date DEFAULT NULL COMMENT 'Дата премьеры в РФ',
   `country_id` bigint(20) unsigned DEFAULT NULL,
   `genre` set('Аниме','Биографический','Боевик','Вестерн','Военный','Детектив','Детский','Документальный','Драма','Исторический','Кинокомикс','Комедия','Концерт','Короткометражный','Криминал','Мелодрама','Мистика','Музыка','Мультфильм','Мюзикл','Научный','Приключения','Реалити-шоу','Семейный','Спорт','Ток-шоу','Триллер','Ужасы','Фантастика','Фильм-нуар','Фэнтези','Эротика') COLLATE utf8_unicode_ci DEFAULT NULL,
   `budget` bigint(20) DEFAULT NULL,
   `main_poster` bigint(20) unsigned DEFAULT NULL,
   `session_end` date DEFAULT NULL COMMENT 'Конец проката',
   PRIMARY KEY (`id`),
   UNIQUE KEY `id` (`id`),
   KEY `premiere_idx` (`premiere`),
   KEY `country_id_idx` (`country_id`),
   KEY `name_movie_idx` (`name`),
   KEY `movies_fk_main_poster` (`main_poster`),
   CONSTRAINT `movies_fk_country_id` FOREIGN KEY (`country_id`) REFERENCES `countries` (`id`),
   CONSTRAINT `movies_fk_main_poster` FOREIGN KEY (`main_poster`) REFERENCES `media` (`id`)
 ) ENGINE=InnoDB AUTO_INCREMENT=141 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='таблица фильмов';

 INSERT INTO `movies` VALUES ('71','perferendis','1989-05-28','84','Биографический,Военный','14','2','1971-10-11'),
 ('72','odio','1987-02-28','89','Биографический,Боевик','6067091','8','1987-04-27'),
 ('73','dolores','2010-12-02','166','Биографический,Вестерн','3','12','1990-09-13'),
 ('74','ea','1975-01-08','14','Аниме','17','18','1987-07-16'),
 ('75','similique','1975-06-03','42','Аниме,Биографический,Боевик,Военный','1717','3','1985-10-07'),
 ('76','provident','1979-09-27','33','Биографический','1','12','1998-12-10'),
 ('77','quo','2001-07-10','4','Аниме,Биографический,Боевик,Военный','0','5','1995-11-25'),
 ('78','et','1983-08-23','172','Аниме,Биографический,Вестерн','2430','13','1996-01-19'),
 ('79','dolorum','2015-05-19','12','Аниме,Боевик','354','1','1992-07-25'),
 ('80','maxime','1978-08-10','18','Аниме,Биографический','1','4','1976-06-08'),
 ('81','voluptatem','1975-07-13','104','Военный','25185633','11','1987-01-05'),
 ('82','voluptatum','2008-09-17','18','Аниме,Биографический,Военный','56','12','1973-07-14'),
 ('83','corporis','2002-02-28','86','Аниме,Биографический','36988926','11','1987-06-19'),
 ('84','laborum','1978-07-31','99','Биографический,Боевик','7162928','12','1983-04-10'),
 ('85','libero','1993-09-14','82','Аниме,Боевик,Военный','66513613','3','1989-04-05'),
 ('86','adipisci','1981-07-01','65','Вестерн','77580179','1','2000-01-18'),
 ('87','soluta','1971-08-14','91','Биографический,Боевик','910536008','7','2016-04-16'),
 ('88','qui','2004-01-24','6','Аниме,Биографический,Боевик,Военный','381','17','2004-08-03'),
 ('89','porro','2018-11-03','104','Аниме,Вестерн','0','17','1979-12-16'),
 ('90','consequatur','1979-02-27','66','Биографический,Боевик,Вестерн','207493','11','1974-02-14'),
 ('91','ut','2005-10-29','15','Аниме,Биографический,Боевик,Вестерн','1171250','13','1996-11-19'),
 ('92','voluptatibus','2001-08-02','11','Биографический','55141343','15','1992-11-04'),
 ('93','vero','1976-01-09','78','Биографический,Военный','5','17','2010-02-17'),
 ('94','et','1972-03-22','164','Вестерн,Военный','5','9','1985-05-09'),
 ('95','sed','1977-05-10','144','Боевик,Военный','2','13','1977-11-08'),
 ('96','at','1990-02-26','95','Аниме,Боевик','1021','20','2017-03-22'),
 ('97','illum','2019-04-21','148','Боевик,Вестерн','320222187','12','2019-11-11'),
 ('98','voluptate','2006-02-27','94','Вестерн','328717','9','2005-09-10'),
 ('99','dolor','1990-08-20','15','Биографический,Боевик,Вестерн','0','20','1996-04-11'),
 ('100','corrupti','1991-09-15','100','Боевик,Военный','4','4','1982-04-21'),
 ('101','sit','1975-04-02','63','Аниме,Биографический,Военный','427578','2','1970-10-20'),
 ('102','omnis','2019-08-23','124','Аниме,Боевик,Вестерн','4088256','2','1999-03-18'),
 ('103','facilis','1983-04-14','119','Аниме,Биографический','15972931','1','2018-10-03'),
 ('104','et','2001-09-26','92','Аниме,Вестерн','146276','20','2011-11-18'),
 ('105','totam','1998-07-18','85','Вестерн','8024573','11','2018-09-18'),
 ('106','velit','2014-09-08','138','Военный','2038103','18','1986-08-09'),
 ('107','accusantium','1985-04-09','25','Биографический,Боевик','36799','3','1974-12-12'),
 ('108','aliquid','2004-02-06','130','Аниме,Военный','5464472','4','2000-06-27'),
 ('109','adipisci','1972-12-05','120','Боевик,Военный','1845907','9','2010-03-04'),
 ('110','dolores','1996-08-04','95','Аниме,Биографический,Боевик,Вестерн','259','13','2002-06-06'),
 ('111','et','1983-09-06','59','Аниме,Биографический,Боевик','193267','4','1997-05-09'),
 ('112','qui','2001-12-14','123','Аниме,Военный','30','7','1997-03-08'),
 ('113','id','2000-10-19','152','Аниме,Биографический,Военный','5','10','2003-03-31'),
 ('114','sint','2002-05-28','89','Биографический','229688','5','2012-10-15'),
 ('115','deserunt','2001-04-28','25','Аниме','53166044','12','2006-04-16'),
 ('116','aut','2005-12-01','106','Аниме','379376409','8','1976-07-10'),
 ('117','eveniet','1999-06-27','21','Вестерн','543737','1','1971-08-03'),
 ('118','non','2011-01-14','117','Боевик,Военный','0','9','2014-09-21'),
 ('119','praesentium','1974-03-11','135','Аниме,Боевик,Военный','6087712','11','1988-08-07'),
 ('120','accusantium','2000-03-14','27','Биографический,Военный','22890','10','1971-04-09'),
 ('121','dolorem','1999-04-30','66','Военный','387726','3','1970-11-06'),
 ('122','consequatur','2012-02-26','12','Аниме,Биографический,Боевик','23','20','1973-12-16'),
 ('123','magni','2015-09-14','143','Аниме','360916','5','2019-05-08'),
 ('124','et','1997-02-17','151','Боевик,Военный','32','11','1995-01-01'),
 ('125','placeat','1980-10-24','79','Аниме,Биографический,Военный','20','2','2014-01-11'),
 ('126','et','1979-02-01','91','Аниме,Биографический,Боевик','225478','14','2014-05-30'),
 ('127','dolorem','1988-07-07','81','Биографический,Военный','63143699','18','2001-06-22'),
 ('128','adipisci','2009-08-11','56','Вестерн,Военный','23','6','2006-10-25'),
 ('129','qui','1984-06-29','115','Аниме,Боевик,Военный','249527','11','1985-10-15'),
 ('130','dolorem','1991-06-02','61','Биографический,Боевик','36978809','4','2006-02-19'),
 ('131','quaerat','2007-05-02','45','Биографический,Военный','551883871','13','1972-08-14'),
 ('132','quo','1995-02-03','24','Военный','189148','11','1998-12-11'),
 ('133','temporibus','2013-09-07','151','Биографический,Боевик,Вестерн','195415','3','1999-01-06'),
 ('134','velit','1982-10-21','106','Биографический,Боевик,Военный','256442','12','1999-07-27'),
 ('135','veritatis','1975-08-20','132','Аниме,Вестерн','121','6','2004-11-18'),
 ('136','omnis','1975-04-26','150','Боевик,Вестерн','98484183','11','1988-01-03'),
 ('137','blanditiis','1999-04-19','17','Боевик','451116465','10','2005-10-28'),
 ('138','dolorum','1994-09-13','53','Аниме,Биографический','13','2','2008-04-05'),
 ('139','ad','2009-06-25','127','Биографический,Боевик','44','2','1985-11-22'),
 ('140','ea','1970-12-30','7','Аниме,Биографический,Боевик,Вестерн','7433536','12','1987-06-10'); 


 DROP TABLE IF EXISTS `people`;
 CREATE TABLE `people` (
   `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
   `firstname` varchar(50) COLLATE utf8_unicode_ci NOT NULL,
   `midlname` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
   `lastname` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
   `birthday` date DEFAULT NULL,
   `motherland_id` bigint(20) unsigned DEFAULT NULL,
   `photo_id` bigint(20) unsigned DEFAULT NULL,
   PRIMARY KEY (`id`),
   UNIQUE KEY `id` (`id`),
   KEY `people_firstname_lastname_idx` (`firstname`,`lastname`),
   KEY `photo_id_idx` (`photo_id`),
   KEY `motherland_id_idx` (`motherland_id`),
   CONSTRAINT `people_fk_motherland_id` FOREIGN KEY (`motherland_id`) REFERENCES `countries` (`id`) ON UPDATE CASCADE,
   CONSTRAINT `people_fk_photo_id` FOREIGN KEY (`photo_id`) REFERENCES `media` (`id`) ON UPDATE CASCADE
 ) ENGINE=InnoDB AUTO_INCREMENT=101 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

 INSERT INTO `people` VALUES ('1','Xander','','Turner','2006-09-18','1','1'),
 ('2','Иннокентий','Михайлович','Смоктуновский','1928-03-28','2','2'),
 ('3','Kristian','','Waelchi','1993-01-07','3','3'),
 ('4','Shany','Gene','Cronin','1970-12-02','4','4'),
 ('5','Jannie','','Legros','1999-12-11','5','5'),
 ('6','Gladyce','','Toy','2010-11-01','6','6'),
 ('7','Olga','','Kovacek','1990-04-08','7','7'),
 ('8','Charity','','Harvey','2003-09-27','8','8'),
 ('9','Maye','Jeanne','Schaden','2006-04-28','9','9'),
 ('10','Muriel','','Heaney','1987-05-31','10','10'),
 ('11','Nellie','Allie','Nolan','2009-11-02','11','11'),
 ('12','Stephany','','Hessel','1983-06-19','12','12'),
 ('13','Silas','Pinkie','Harvey','2013-07-18','13','13'),
 ('14','Estell','Christina','Toy','1973-01-19','14','14'),
 ('15','Alyce','','Konopelski','1974-09-23','15','15'),
 ('16','Zita','','Lesch','2010-07-02','16','16'),
 ('17','Kendrick','Alexander','Kuhn','1970-07-13','17','17'),
 ('18','Sydni','Isom','Fritsch','1983-11-03','18','18'),
 ('19','Jaeden','','Bashirian','2008-05-18','19','19'),
 ('20','Zion','','Terry','1986-11-09','20','20'),
 ('21','Hollis','','Barrows','2018-07-14','21','1'),
 ('22','Marianne','','Goldner','1978-11-11','22','2'),
 ('23','Makayla','Myra','Bartoletti','1977-02-17','23','3'),
 ('24','Wilhelmine','Santina','Ryan','1977-01-19','24','4'),
 ('25','May','','Shanahan','1980-04-29','25','5'),
 ('26','Brenden','Holly','Boehm','1976-04-09','26','6'),
 ('27','Blaze','Demarco','Hahn','2016-05-09','27','7'),
 ('28','Concepcion','','Berge','2019-04-01','28','8'),
 ('29','Ludie','Susanna','Sipes','1976-09-21','29','9'),
 ('30','Mertie','','Carter','1991-03-04','30','10'),
 ('31','Candida','Jakayla','Runte','1977-02-11','31','11'),
 ('32','Henri','','Block','1978-09-21','32','12'),
 ('33','Luisa','','Maggio','2017-11-28','33','13'),
 ('34','Lori','Orval','Fay','1975-08-19','34','14'),
 ('35','Micaela','Lauretta','Daugherty','1995-08-11','35','15'),
 ('36','Cassandre','Filiberto','Maggio','2003-02-21','36','16'),
 ('37','Bradford','','Oberbrunner','1998-08-03','37','17'),
 ('38','Estell','Samanta','Predovic','1973-11-16','38','18'),
 ('39','Malcolm','','Donnelly','1992-11-17','39','19'),
 ('40','Kyla','','Kozey','1977-07-07','40','20'),
 ('41','Lester','Mireya','Hansen','1977-01-16','41','1'),
 ('42','Sidney','','Stracke','2014-07-21','42','2'),
 ('43','Jettie','Kole','Runte','1970-05-22','43','3'),
 ('44','Rowan','Nelda','Mosciski','1996-05-30','44','4'),
 ('45','Ramiro','Marvin','Stanton','2010-02-10','45','5'),
 ('46','Lavonne','Magdalena','Kovacek','1999-10-29','46','6'),
 ('47','Jasmin','','Glover','1975-06-30','47','7'),
 ('48','Vivienne','Reta','Weimann','1975-10-23','48','8'),
 ('49','Claire','','Lueilwitz','2003-10-25','49','9'),
 ('50','Izaiah','Fletcher','Stiedemann','2006-08-23','50','10'),
 ('51','Irma','Rosendo','Welch','2000-04-06','51','11'),
 ('52','Erika','','Schuster','1973-01-21','52','12'),
 ('53','Mackenzie','','Kshlerin','1978-10-05','53','13'),
 ('54','Marcos','','Okuneva','1983-04-25','54','14'),
 ('55','Tressa','Helga','Keeling','1977-10-15','55','15'),
 ('56','Lora','','Welch','2015-05-08','56','16'),
 ('57','Margot','','Smith','2004-09-24','57','17'),
 ('58','Stephen','','Brakus','1995-04-04','58','18'),
 ('59','Mavis','','Grimes','1988-07-03','59','19'),
 ('60','Brooklyn','Warren','Connelly','1993-11-09','60','20'),
 ('61','Syble','Edwardo','Wyman','1995-02-23','61','1'),
 ('62','Hershel','','O\'Keefe','1992-08-23','62','2'),
 ('63','Blair','Enrico','Cremin','2016-11-16','63','3'),
 ('64','Osvaldo','Darwin','Beer','2010-02-13','64','4'),
 ('65','Kristofer','','Nader','2017-03-21','65','5'),
 ('66','Helen','','Barton','1997-01-20','66','6'),
 ('67','Dagmar','','Reynolds','2013-03-28','67','7'),
 ('68','Raegan','Westley','Trantow','1988-07-19','68','8'),
 ('69','Kailee','Arvilla','Christiansen','1974-01-09','69','9'),
 ('70','Sibyl','','Weber','1975-06-11','70','10'),
 ('71','Maximilian','Marcos','Lockman','1987-01-03','71','11'),
 ('72','Darren','Kiley','Dibbert','1992-06-08','72','12'),
 ('73','Trisha','Estevan','Hagenes','1994-04-06','73','13'),
 ('74','King','','Ernser','1970-11-26','74','14'),
 ('75','Antonio','Shad','Borer','1976-04-24','75','15'),
 ('76','Emmet','Lucio','Jacobson','1972-12-03','76','16'),
 ('77','Shakira','','Gibson','2010-01-04','77','17'),
 ('78','Tavares','Donald','Langosh','2018-09-21','78','18'),
 ('79','Elton','','Kulas','1994-12-05','79','19'),
 ('80','Hattie','Scotty','Jerde','1987-07-10','80','20'),
 ('81','Elfrieda','','Crooks','1996-10-28','81','1'),
 ('82','Amir','','McCullough','1971-11-15','82','2'),
 ('83','Joany','Helmer','Bernier','1977-06-24','83','3'),
 ('84','Adela','Chester','Buckridge','2005-08-21','84','4'),
 ('85','Werner','','Torp','2018-12-01','85','5'),
 ('86','Ezequiel','Austen','Mills','2000-08-17','86','6'),
 ('87','Amina','','Maggio','2008-08-06','87','7'),
 ('88','Stevie','Rex','Cartwright','2018-07-21','88','8'),
 ('89','Eudora','Marianne','Gottlieb','1977-06-22','89','9'),
 ('90','Alexzander','','Becker','1971-07-08','90','10'),
 ('91','Glennie','Vilma','Blick','1979-06-14','91','11'),
 ('92','Eveline','Willy','Wunsch','1988-02-18','92','12'),
 ('93','Eloise','','Torphy','2000-09-19','93','13'),
 ('94','Candido','Casandra','Reynolds','1970-11-29','94','14'),
 ('95','Diamond','','McGlynn','2012-05-11','95','15'),
 ('96','Joelle','Josie','Blick','1998-06-01','96','16'),
 ('97','Rey','Leopold','Bednar','1971-08-08','97','17'),
 ('98','Brooklyn','Trystan','Ritchie','2018-09-10','98','18'),
 ('99','Ena','Andre','Schinner','1987-07-10','99','19'),
 ('100','Sydni','Bethany','Turcotte','1992-06-21','100','20'); 

 DROP TABLE IF EXISTS `filmmakers`;
 CREATE TABLE `filmmakers` (
   `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
   `movie_id` bigint(20) unsigned NOT NULL,
   `people_id` bigint(20) unsigned NOT NULL,
   `role` set('Актёр','Актёр озвучивания','Второй режиссёр','Гримёр','Дольщик','Дублёр','Заменяющий','Исполнительный продюсер','Капельдинер','Каскадёр','Киновед','Кинокомпозитор','Кинокритик','Кинооператор','Кинопродюсер','Кинорежиссёр','Комик','Оператор','Оператор-постановщик','Постановщик трюков','Продюсер','Режиссёр','Сценарист','Художник по костюмам','Шумовик') COLLATE utf8_unicode_ci DEFAULT NULL,
   `character` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
   PRIMARY KEY (`id`),
   UNIQUE KEY `id` (`id`),
   KEY `role_idx` (`role`),
   KEY `character_idx` (`character`),
   KEY `filmmakers_fk_movie_id` (`movie_id`),
   KEY `filmmakers_fk_people_id` (`people_id`),
   CONSTRAINT `filmmakers_fk_movie_id` FOREIGN KEY (`movie_id`) REFERENCES `movies` (`id`) ON UPDATE CASCADE,
   CONSTRAINT `filmmakers_fk_people_id` FOREIGN KEY (`people_id`) REFERENCES `people` (`id`) ON UPDATE CASCADE
 ) ENGINE=InnoDB AUTO_INCREMENT=151 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

 INSERT INTO `filmmakers` VALUES ('1','104','41','Актёр,Актёр озвучивания,Второй режиссёр',''),
 ('2','74','86','Актёр,Актёр озвучивания',''),
 ('3','98','49','Дольщик',''),
 ('4','85','30','Актёр',''),
 ('5','72','67','Актёр,Дольщик','Pasquale Keeling I'),
 ('6','85','99','Актёр озвучивания,Второй режиссёр,Дольщик',''),
 ('7','102','82','Гримёр',''),
 ('8','123','80','Актёр озвучивания,Гримёр',''),
 ('9','101','57','Актёр,Актёр озвучивания,Второй режиссёр,Дольщик',''),
 ('10','130','14','Актёр,Второй режиссёр,Гримёр','Taya Nikolaus'),
 ('11','82','34','Второй режиссёр','Miss Paige Olson MD'),
 ('12','85','52','Актёр,Актёр озвучивания,Второй режиссёр,Дольщик',''),
 ('13','122','66','Актёр озвучивания,Второй режиссёр',''),
 ('14','76','9','Актёр озвучивания,Второй режиссёр','Harley Gislason'),
 ('15','120','52','Второй режиссёр',''),
 ('16','133','93','Актёр,Дольщик','Vita Leannon'),
 ('17','118','13','Актёр','Mr. Pierre Rogahn Jr.'),
 ('18','88','41','Актёр,Актёр озвучивания,Дольщик',''),
 ('19','81','26','Второй режиссёр','Lourdes Balistreri'),
 ('20','88','66','Актёр озвучивания,Второй режиссёр,Дольщик','Chaya Wisozk'),
 ('21','82','77','Актёр,Дольщик',''),
 ('22','98','53','Актёр,Гримёр',''),
 ('23','121','76','Актёр,Гримёр','Noel Kreiger'),
 ('24','79','58','Актёр озвучивания',''),
 ('25','133','5','Актёр,Второй режиссёр,Дольщик','Colleen Becker'),
 ('26','95','1','Актёр,Актёр озвучивания','Izabella Prosacco'),
 ('27','130','21','Актёр,Дольщик','Muriel Little'),
 ('28','136','33','Гримёр,Дольщик',''),
 ('29','89','45','Актёр,Актёр озвучивания,Второй режиссёр','Hilda Larson'),
 ('30','106','7','Актёр,Актёр озвучивания,Гримёр','Vaughn Buckridge'),
 ('31','89','61','Актёр,Дольщик','Ben Farrell'),
 ('32','113','31','Актёр озвучивания,Гримёр','Sandy Russel'),
 ('33','80','4','Актёр озвучивания,Второй режиссёр,Гримёр','Loyal Schuster'),
 ('34','106','70','Второй режиссёр','Spencer Armstrong'),
 ('35','100','88','Актёр,Актёр озвучивания,Второй режиссёр,Дольщик',''),
 ('36','72','20','Второй режиссёр',''),
 ('37','109','7','Актёр,Актёр озвучивания,Второй режиссёр,Дольщик',''),
 ('38','119','84','Актёр,Актёр озвучивания,Дольщик',''),
 ('39','107','9','Актёр,Актёр озвучивания,Второй режиссёр,Дольщик','Leatha Zemlak'),
 ('40','94','88','Актёр озвучивания,Второй режиссёр','Josefa Bins'),
 ('41','140','2','Актёр озвучивания','Mr. Ambrose Hintz DVM'),
 ('42','133','13','Актёр,Актёр озвучивания,Второй режиссёр,Гримёр','Brett Blanda'),
 ('43','84','63','Актёр озвучивания,Второй режиссёр,Дольщик','Beulah Weimann MD'),
 ('44','98','6','Актёр озвучивания,Второй режиссёр',''),
 ('45','86','4','Актёр,Актёр озвучивания,Дольщик',''),
 ('46','98','30','Актёр,Гримёр','Travis Glover'),
 ('47','76','30','Актёр,Актёр озвучивания,Второй режиссёр',''),
 ('48','87','50','Второй режиссёр,Гримёр',''),
 ('49','134','38','Актёр,Второй режиссёр,Гримёр','Ms. Avis Hauck'),
 ('50','106','54','Второй режиссёр,Дольщик',''),
 ('51','85','53','Гримёр,Дольщик','Ms. Agustina Herman DVM'),
 ('52','113','96','Гримёр,Дольщик','Dillan Koelpin'),
 ('53','78','79','Актёр,Второй режиссёр,Гримёр',''),
 ('54','78','5','Второй режиссёр','Darron Torp III'),
 ('55','129','70','Актёр,Второй режиссёр,Гримёр',''),
 ('56','99','64','Актёр',''),
 ('57','111','68','Актёр,Актёр озвучивания,Второй режиссёр,Гримёр',''),
 ('58','114','66','Актёр,Актёр озвучивания,Дольщик',''),
 ('59','96','74','Актёр,Гримёр','Jessy Donnelly MD'),
 ('60','98','24','Актёр озвучивания,Дольщик','Nick Gaylord'),
 ('61','77','92','Актёр,Актёр озвучивания,Второй режиссёр,Гримёр','Elton VonRueden'),
 ('62','132','42','Актёр озвучивания,Второй режиссёр,Дольщик',''),
 ('63','95','51','Актёр,Гримёр','Prof. Lina Reinger I'),
 ('64','90','88','Актёр озвучивания,Второй режиссёр,Дольщик',''),
 ('65','138','63','Актёр,Второй режиссёр,Гримёр','Green Fritsch'),
 ('66','100','85','Актёр,Второй режиссёр,Дольщик','Prof. Sonya Wehner'),
 ('67','125','99','Актёр,Гримёр','Luigi Wilderman'),
 ('68','101','10','Актёр,Актёр озвучивания,Второй режиссёр,Дольщик','Dr. Rhoda Wisoky MD'),
 ('69','111','1','Актёр озвучивания',''),
 ('70','115','31','Гримёр,Дольщик',''),
 ('71','120','59','Актёр,Актёр озвучивания,Второй режиссёр,Гримёр',''),
 ('72','80','30','Гримёр,Дольщик','Mrs. Fae Luettgen DDS'),
 ('73','116','45','Актёр озвучивания,Дольщик','Allan Rutherford'),
 ('74','108','61','Второй режиссёр',''),
 ('75','94','70','Актёр озвучивания,Второй режиссёр','Bonita Stark'),
 ('76','105','10','Актёр озвучивания,Второй режиссёр,Дольщик',''),
 ('77','116','69','Актёр озвучивания,Дольщик','Ernie Gerhold'),
 ('78','102','69','Актёр,Актёр озвучивания,Второй режиссёр','Morgan Corwin'),
 ('79','93','13','Актёр,Актёр озвучивания,Второй режиссёр,Дольщик','Dr. Ollie Maggio'),
 ('80','97','29','Актёр озвучивания,Гримёр','Bert Romaguera'),
 ('81','127','66','Актёр,Актёр озвучивания,Дольщик',''),
 ('82','98','8','Гримёр,Дольщик','Elaina Champlin'),
 ('83','89','59','Гримёр,Дольщик','Alvah Braun Sr.'),
 ('84','117','65','Актёр,Актёр озвучивания,Дольщик','Miss Barbara Schneider DDS'),
 ('85','96','82','Актёр,Второй режиссёр,Гримёр',''),
 ('86','127','19','Гримёр,Дольщик','Darwin Runolfsson'),
 ('87','72','74','Актёр озвучивания',''),
 ('88','129','76','Второй режиссёр,Гримёр','Samara O\'Keefe'),
 ('89','72','19','Актёр озвучивания,Второй режиссёр',''),
 ('90','134','43','Дольщик',''),
 ('91','108','50','Второй режиссёр,Гримёр',''),
 ('92','84','97','Актёр,Актёр озвучивания,Второй режиссёр,Дольщик','Zackary Lind'),
 ('93','98','51','Дольщик','Dr. Natalia D\'Amore Sr.'),
 ('94','75','91','Второй режиссёр,Дольщик','Eddie Hand'),
 ('95','100','15','Актёр озвучивания,Второй режиссёр,Дольщик','Minerva Streich'),
 ('96','117','89','Актёр озвучивания,Второй режиссёр',''),
 ('97','122','10','Гримёр,Дольщик',''),
 ('98','102','46','Актёр озвучивания,Второй режиссёр,Гримёр',''),
 ('99','86','47','Актёр,Актёр озвучивания,Гримёр',''),
 ('100','79','71','Второй режиссёр,Гримёр',''),
 ('101','123','12','Актёр,Гримёр',''),
 ('102','129','37','Актёр,Второй режиссёр,Гримёр','Mr. Brennon Yost I'),
 ('103','74','26','Актёр озвучивания,Второй режиссёр,Гримёр',''),
 ('104','76','62','Дольщик','Mertie Conn'),
 ('105','131','20','Актёр озвучивания,Дольщик','Prof. Mariam Lubowitz III'),
 ('106','96','58','Актёр озвучивания,Второй режиссёр,Дольщик','Joanny Adams'),
 ('107','71','35','Актёр озвучивания,Второй режиссёр,Гримёр',''),
 ('108','133','5','Актёр,Дольщик',''),
 ('109','107','41','Актёр озвучивания','Shirley Grimes'),
 ('110','124','36','Актёр,Актёр озвучивания,Гримёр','Yvonne Terry'),
 ('111','139','72','Актёр,Второй режиссёр,Гримёр',''),
 ('112','109','91','Актёр озвучивания,Гримёр',''),
 ('113','85','99','Актёр,Актёр озвучивания','Dr. Orpha Senger'),
 ('114','86','21','Актёр,Актёр озвучивания,Второй режиссёр,Гримёр',''),
 ('115','99','31','Актёр',''),
 ('116','79','63','Актёр,Дольщик',''),
 ('117','81','90','Актёр,Актёр озвучивания,Второй режиссёр','Dr. Ana Zulauf'),
 ('118','120','6','Второй режиссёр,Дольщик',''),
 ('119','89','48','Актёр,Актёр озвучивания,Второй режиссёр','Bonnie Bergnaum'),
 ('120','102','87','Актёр,Дольщик','Mrs. Alexane Kessler'),
 ('121','88','71','Второй режиссёр,Гримёр','Chelsea Rath'),
 ('122','87','44','Актёр озвучивания,Гримёр',''),
 ('123','121','70','Актёр озвучивания,Второй режиссёр','Ada Nolan'),
 ('124','107','21','Актёр,Гримёр',''),
 ('125','110','89','Дольщик',''),
 ('126','121','96','Актёр,Актёр озвучивания,Второй режиссёр,Гримёр','Lorenzo Torphy'),
 ('127','106','34','Дольщик','Mozelle Runolfsdottir'),
 ('128','134','52','Второй режиссёр',''),
 ('129','120','99','Актёр озвучивания','Manuela Hamill'),
 ('130','127','93','Второй режиссёр,Гримёр',''),
 ('131','75','86','Второй режиссёр,Гримёр','Prof. Patrick Nicolas III'),
 ('132','129','56','Актёр,Второй режиссёр,Гримёр','Hassan Davis'),
 ('133','71','94','Актёр',''),
 ('134','136','15','Актёр,Актёр озвучивания,Второй режиссёр','Edna Schamberger'),
 ('135','98','80','Дольщик','Prof. Oren Wolf II'),
 ('136','125','35','Актёр,Актёр озвучивания,Гримёр',''),
 ('137','87','44','Актёр озвучивания,Второй режиссёр',''),
 ('138','124','77','Актёр,Второй режиссёр,Гримёр','Dr. Kaylie Raynor'),
 ('139','124','66','Актёр озвучивания,Второй режиссёр',''),
 ('140','72','38','Гримёр,Дольщик','Heather Swaniawski'),
 ('141','86','75','Дольщик',''),
 ('142','132','33','Актёр,Второй режиссёр,Гримёр','Verda Wolf'),
 ('143','111','84','Второй режиссёр',''),
 ('144','96','77','Второй режиссёр',''),
 ('145','73','5','Актёр,Актёр озвучивания','Mr. Micah Hilpert I'),
 ('146','97','8','Второй режиссёр,Гримёр','Nickolas Rempel'),
 ('147','138','75','Актёр,Гримёр','Damion Beahan'),
 ('148','108','41','Актёр озвучивания,Дольщик',''),
 ('149','82','15','Актёр,Второй режиссёр','Mrs. Eleanore Mante'),
 ('150','93','16','Второй режиссёр,Дольщик','Dr. Frederique Ullrich V'); 

 DROP TABLE IF EXISTS `marks`;
 CREATE TABLE `marks` (
   `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
   `movie_id` bigint(20) unsigned NOT NULL,
   `user_id` bigint(20) unsigned NOT NULL,
   `favorites` tinyint(1) DEFAULT 0,
   `likes` tinyint(1) DEFAULT 0,
   `viewed` tinyint(1) DEFAULT 0,
   `will_watch` tinyint(1) DEFAULT 0,
   `rate` tinyint(1) DEFAULT 0,
   PRIMARY KEY (`id`),
   UNIQUE KEY `id` (`id`),
   KEY `marks_fk_movie_id` (`movie_id`),
   KEY `marks_fk_user_id` (`user_id`),
   CONSTRAINT `marks_fk_movie_id` FOREIGN KEY (`movie_id`) REFERENCES `movies` (`id`) ON UPDATE CASCADE,
   CONSTRAINT `marks_fk_user_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON UPDATE CASCADE
 ) ENGINE=InnoDB AUTO_INCREMENT=141 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

 INSERT INTO `marks` VALUES ('101','116','1','1','0','0','0','8'),
 ('102','100','5','1','0','1','1','9'),
 ('103','111','4','0','1','1','0','4'),
 ('104','136','1','0','1','0','0','6'),
 ('105','99','1','1','0','0','0','6'),
 ('106','120','1','0','0','0','1','1'),
 ('107','77','5','0','1','1','1','5'),
 ('108','88','3','1','0','0','0','8'),
 ('109','83','4','1','1','0','0','3'),
 ('110','72','1','1','0','0','0','2'),
 ('111','120','1','1','1','1','0','9'),
 ('112','134','1','0','1','1','0','5'),
 ('113','92','1','0','0','0','0','3'),
 ('114','91','1','0','1','0','0','3'),
 ('115','94','4','0','1','0','0','9'),
 ('116','90','4','0','1','0','0','3'),
 ('117','134','4','1','0','0','0','6'),
 ('118','105','2','1','1','1','0','2'),
 ('119','139','3','1','0','0','0','7'),
 ('120','123','1','1','0','1','0','4'),
 ('121','104','3','0','0','0','0','6'),
 ('122','136','3','1','1','1','1','6'),
 ('123','73','1','1','1','1','1','3'),
 ('124','73','2','0','1','1','0','9'),
 ('125','126','1','1','1','0','1','5'),
 ('126','119','4','0','0','0','0','9'),
 ('127','71','1','1','0','1','0','2'),
 ('128','80','2','1','1','1','0','9'),
 ('129','125','4','0','0','0','0','2'),
 ('130','84','3','1','0','1','0','9'),
 ('131','96','4','0','0','0','0','1'),
 ('132','79','3','0','1','1','1','9'),
 ('133','140','4','0','0','1','0','4'),
 ('134','123','3','0','0','0','1','4'),
 ('135','77','3','1','0','0','0','9'),
 ('136','92','1','0','0','0','0','5'),
 ('137','131','2','1','0','0','0','7'),
 ('138','88','4','1','0','0','0','1'),
 ('139','119','2','0','0','1','0','7'),
 ('140','112','2','1','1','0','1','9'); 

 DROP TABLE IF EXISTS `theaters`;
 CREATE TABLE `theaters` (
   `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
   `name` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
   `seats` smallint(5) unsigned NOT NULL COMMENT 'Число мест',
   `city_id` bigint(20) unsigned NOT NULL,
   PRIMARY KEY (`id`),
   UNIQUE KEY `id` (`id`),
   KEY `theaters_name_idx` (`name`),
   KEY `theaters_fk_city_id` (`city_id`),
   CONSTRAINT `theaters_fk_city_id` FOREIGN KEY (`city_id`) REFERENCES `cities` (`id`) ON UPDATE CASCADE
 ) ENGINE=InnoDB AUTO_INCREMENT=121 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

 INSERT INTO `theaters` VALUES ('101','Звезда','367','7'),
 ('102','Луч','237','10'),
 ('103','Победа','228','4'),
 ('104','Экран','151','12'),
 ('105','Перспектива','311','13'),
 ('106','Пушкинский','135','8'),
 ('107','им Братьев Райт','221','2'),
 ('108','Синима Парк','89','4'),
 ('109','Облака','357','2'),
 ('110','Родина','302','11'),
 ('111','Пионер','154','2'),
 ('112','Космос','352','1'),
 ('113','Ракета','212','3'),
 ('114','Галактика','304','1'),
 ('115','Иллюзион','84','6'),
 ('116','Оскар','264','1'),
 ('117','Дом Кино','259','11'),
 ('118','Кинодром','53','6'),
 ('119','Центральный','250','11'),
 ('120','Фитиль','218','12'); 



 DROP TABLE IF EXISTS `sessions`;
 CREATE TABLE `sessions` (
   `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
   `theater_id` bigint(20) unsigned NOT NULL,
   `movies_id` bigint(20) unsigned NOT NULL,
   `tickets` bigint(20) unsigned NOT NULL,
   `time` time DEFAULT NULL,
   `date` date DEFAULT NULL,
   PRIMARY KEY (`id`),
   KEY `sessions_fk_theater_id` (`theater_id`),
   KEY `sessions_fk_movies_id` (`movies_id`),
   CONSTRAINT `sessions_fk_movies_id` FOREIGN KEY (`movies_id`) REFERENCES `movies` (`id`) ON UPDATE CASCADE,
   CONSTRAINT `sessions_fk_theater_id` FOREIGN KEY (`theater_id`) REFERENCES `theaters` (`id`) ON UPDATE CASCADE
 ) ENGINE=InnoDB AUTO_INCREMENT=310 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

 INSERT INTO `sessions` VALUES ('211','101','71','227','23:24','2018-02-24'),
 ('212','102','72','162','18:06:50','2010-09-27'),
 ('213','103','73','177','05:21:10','2007-03-10'),
 ('214','104','74','282','11:21:49','2005-05-01'),
 ('215','105','75','97','03:22:18','2010-09-09'),
 ('216','106','76','71','01:31:55','2017-04-13'),
 ('217','107','77','259','08:03:03','2016-12-27'),
 ('218','108','78','184','02:20:30','1983-08-22'),
 ('219','109','79','188','14:21:41','1989-12-12'),
 ('220','110','80','174','08:44:44','2015-08-29'),
 ('221','111','81','104','21:17:03','2009-07-03'),
 ('222','112','82','236','01:41:26','2010-12-02'),
 ('223','113','83','275','11:39:33','2019-08-17'),
 ('224','114','84','51','00:14:55','2011-05-10'),
 ('225','115','85','297','01:36:29','1998-08-04'),
 ('226','116','86','180','12:42:47','2014-11-09'),
 ('227','117','87','135','23:39:59','2013-01-15'),
 ('228','118','88','86','21:24:42','1972-06-19'),
 ('229','119','89','235','18:03:52','2003-02-04'),
 ('230','120','90','116','19:35:51','2007-02-09'),
 ('231','101','91','75','03:14:45','1970-08-05'),
 ('232','102','92','81','04:27:38','2015-07-14'),
 ('233','103','93','117','13:38:18','2002-06-28'),
 ('234','104','94','64','06:49:26','2007-12-11'),
 ('235','105','95','299','00:05:16','1990-05-14'),
 ('236','106','96','159','05:54:44','1980-11-28'),
 ('237','107','97','188','05:01:36','2019-06-03'),
 ('238','108','98','58','18:03:05','1977-10-05'),
 ('239','109','99','256','04:19:46','2014-01-29'),
 ('240','110','100','61','08:18:10','1997-06-07'),
 ('241','111','101','265','00:52:10','1984-03-28'),
 ('242','112','102','136','10:22:39','2008-07-17'),
 ('243','113','103','227','03:11:37','1980-08-20'),
 ('244','114','104','81','00:19:58','1999-09-25'),
 ('245','115','105','234','19:48:45','1981-06-10'),
 ('246','116','106','118','11:07:27','2009-11-25'),
 ('247','117','107','139','00:05:23','2007-04-14'),
 ('248','118','108','240','12:31:01','1974-09-02'),
 ('249','119','109','277','18:50:23','2014-08-28'),
 ('250','120','110','293','02:08:14','1999-12-02'),
 ('251','101','111','145','13:06:02','2002-06-20'),
 ('252','102','112','165','13:57:56','2008-04-01'),
 ('253','103','113','93','23:49:14','2012-11-19'),
 ('254','104','114','140','03:12:59','2013-10-24'),
 ('255','105','115','171','15:32:38','1994-01-25'),
 ('256','106','116','297','19:47:53','1991-12-30'),
 ('257','107','117','88','18:20:43','1989-05-17'),
 ('258','108','118','268','21:36:26','2008-10-07'),
 ('259','109','119','228','22:27:09','1977-05-02'),
 ('260','110','120','96','21:25:24','2001-05-16'),
 ('261','111','121','161','06:08:21','1980-08-24'),
 ('262','112','122','184','01:00:47','2001-07-28'),
 ('263','113','123','224','01:58:03','1998-09-28'),
 ('264','114','124','145','15:51:14','1991-10-07'),
 ('265','115','125','151','20:07:18','1979-03-02'),
 ('266','116','126','225','00:48:17','1971-02-15'),
 ('267','117','127','272','00:52:05','1977-10-29'),
 ('268','118','128','58','20:13:12','1995-06-12'),
 ('269','119','129','199','12:33:53','2010-06-21'),
 ('270','120','130','291','03:22:56','1999-09-20'),
 ('271','101','131','52','13:58:22','2011-09-07'),
 ('272','102','132','192','03:00:50','1999-12-03'),
 ('273','103','133','226','16:33:08','2010-08-05'),
 ('274','104','134','194','05:52:16','1996-11-24'),
 ('275','105','135','90','12:23:38','1987-10-15'),
 ('276','106','136','191','17:58:49','2005-01-11'),
 ('277','107','137','271','23:24:39','1987-08-10'),
 ('278','108','138','229','00:45:06','2000-08-07'),
 ('279','109','139','230','11:16:12','1986-03-17'),
 ('280','110','140','114','22:32:32','2001-05-31'),
 ('281','111','71','155','00:08:34','1980-08-14'),
 ('282','112','72','243','11:31:32','1982-06-27'),
 ('283','113','73','287','21:00:04','2001-03-11'),
 ('284','114','74','230','18:27:57','2016-12-31'),
 ('285','115','75','58','22:37:46','1995-08-26'),
 ('286','116','76','218','19:07:24','2000-12-01'),
 ('287','117','77','200','15:13:45','1971-03-03'),
 ('288','118','78','144','20:40:58','2010-06-01'),
 ('289','119','79','80','23:35:10','2019-12-14'),
 ('290','120','80','231','19:58:58','2019-10-19'),
 ('291','101','81','138','00:44:57','1982-11-20'),
 ('292','102','82','237','04:35:28','2008-04-16'),
 ('293','103','83','83','05:28:13','2003-03-08'),
 ('294','104','84','211','18:35:12','2008-05-10'),
 ('295','105','85','213','09:00:05','1982-07-18'),
 ('296','106','86','280','15:26:36','1994-05-28'),
 ('297','107','87','79','13:30:24','2003-06-17'),
 ('298','108','88','112','21:35:36','1972-09-06'),
 ('299','109','89','165','10:52:54','1986-01-24'),
 ('300','110','90','265','20:54:57','2004-03-19'),
 ('301','111','91','135','10:20:02','1997-05-31'),
 ('302','112','92','187','19:19:14','1998-06-20'),
 ('303','113','93','70','15:46:57','1982-09-30'),
 ('304','114','94','82','04:56:22','1988-07-13'),
 ('305','115','95','103','19:08:11','1993-04-26'),
 ('306','116','96','239','03:46:43','1984-06-30'),
 ('307','117','97','229','19:09:43','2009-06-28'),
 ('308','118','98','264','03:16:28','2019-05-18'),
 ('309','119','99','265','03:23:22','2012-07-04'); 




 DROP PROCEDURE IF EXISTS recommends;

 delimiter //

 CREATE PROCEDURE recommends(IN for_user_id INT)
 BEGIN
 	SELECT movies.id
 	FROM movies
 	WHERE movies.genre = (SELECT genre FROM movies WHERE id = (
 		SELECT movie_id FROM marks WHERE user_id = for_user_id
 			and likes = 1,));
 END//

 delimiter ;
 
 
 
 
 
 CREATE OR REPLACE VIEW view_afisha
 AS
 SELECT
 cities.name AS city,
 date,
 time,
 theaters.name AS theater,
 movies.name AS movie
 FROM sessions
 JOIN theaters on sessions.theater_id = theaters.id
 JOIN cities on theaters.city_id = cities.id
 JOIN movies on sessions.movies_id = movies.id;